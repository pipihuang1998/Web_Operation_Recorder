<!DOCTYPE html>
<html>
<head>
    <title>Mock UI</title>
    <script>
        // Mock Chrome API
        window.chrome = {
            runtime: {
                getURL: (path) => path,
                onMessage: { addListener: () => {} }
            },
            storage: {
                local: {
                    get: (keys, cb) => {
                         console.log("Mock Storage Get", keys);
                         cb({ urlWhitelist: [], username: 'testuser', productCode: 'CITC' });
                    },
                    set: (data, cb) => { console.log('Saved:', data); if(cb) cb(); }
                }
            }
        };
    </script>
</head>
<body>
    <h1>Test Page</h1>
    <script src="../src/content.js"></script>
    <script>
        // Helper to open sidebar
        window.openSidebar = () => {
             const host = document.getElementById('recorder-sidebar-host');
             if(host) {
                 const container = host.shadowRoot.querySelector('.sidebar');
                 container.classList.add('visible');
             }
        };

        window.openConfig = () => {
            const host = document.getElementById('recorder-sidebar-host');
            const settingsBtn = host.shadowRoot.getElementById('settingsBtn');
            settingsBtn.click();
        };

        window.openReview = () => {
             // To open review, we need to bypass logic or modify state.
             // Easier to just inspect the DOM or click 'Stop' if we were recording.
             // Let's just screenshot the Config view as that has the new inputs.
        };
    </script>
</body>
</html>
